---
description: How to expand macros to inspect generated code
---

# Expanding Macros

Use `cargo expand` to inspect the code generated by macros. This is essential when debugging or verifying macro invocations.

// turbo-all

1. Expand macros using the `/build` workflow pattern:
```bash
export MUJOCO_DYNAMIC_LINK_DIR=$(realpath mujoco-3.5.0/lib) && export LD_LIBRARY_PATH=$(realpath mujoco-3.5.0/lib/) && cargo expand > expanded.rs 2> /tmp/expand_errors.txt; echo "EXIT=$?" >> /tmp/expand_errors.txt

```

2. Check for errors:
```
view_file /tmp/expand_errors.txt
```

3. Inspect the expanded code:
```
view_file expanded.rs (or search it with grep_search)
```

> [!NOTE]
> - The output file `expanded.rs` is `.gitignore`d.
> - After expanding, search `expanded.rs` for the generated methods to verify correctness.
> - Always append a trailing newline after the command.
